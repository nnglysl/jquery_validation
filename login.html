<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="login.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.21.0/jquery.validate.min.js"></script>
  </head>
  <body>
    <div class="login-container">
        <h2>Login</h2>
        <form id="myForm">
        <div class="input-box">
            <input type="text" id="username" name="username" placeholder=" ">
            <label for="username">Username</label>
        </div>
        <div class="input-box">
            <input type="password" id="password" name="password" placeholder=" ">
            <label for="password">Password</label>
        </div>
        <div>
            <button type="submit">Login</button>
      </div>
        </form>
        <p>Don't have an account? <a href="register.html">Register here</a></p>
    </div>
        <script>
      $(document).ready(function () {
        $("#myForm").validate({
          rules: {
            username: {
              required: true,
              minlength: 5,
              maxlength: 20,
            },
            password: {
              required: true,
              minlength: 5,
              maxlength: 20,
            },
          },
          messages: {
            username: {
              required: "Username is required",
              minlength: "Username must be at least 5 characters",
              maxlength: "Username cannot exceed 20 characters",
            },
            password: {
              required: "Password is required",
              minlength: "Password must be at least 5 characters",
              maxlength: "Password cannot exceed 20 characters",
            },
          },
          errorPlacement: function (error, element) {
            error.appendTo(element.closest(".input-box"));
          },
          submitHandler: function (form) {
            const username = "admin";
            const password = "12345";

            const uname = $("#username").val();
            const pass = $("#password").val();

            $(".custom-error").remove();

            if (uname === username && pass === password) {
              localStorage.setItem("username", uname);

              window.location.href = "index.html";
            } else {
              $("#password")
                .closest(".input-box")
                .append(
                  '<label class="error custom-error">Invalid username or password!</label>'
                );
            }
          },
        });
      });
    </script>
  </body>
</html>
